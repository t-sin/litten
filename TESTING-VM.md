# vm.sをテストしたい

## 目的

- テストコードによって実装の動作を保証したい
- 特に分岐命令の動き等、要所はテストによって保護したい
- gdbでのデバッグ機会を減らしたい

## 理由

- 分岐命令等を実装しはじめているが、丸腰だとvm.sのVM命令を編集したときはちゃめちゃに壊れる
- 現在のデバッグ方法がgdbでCPUレジスタから辿ってメモリのスタック領域を目で見ており、すさまじくめんどくさい

## やりかた案

- テストコードをコンパイル・実行すると、あるテーマのテストがはしる
  - 言語はCとかasmとか
  - Cの場合ABIを気にする必要あり
    - 将来リンカスクリプトを書いてメモリレイアウトを変更するので、その際大変になるかも
- 前提条件 (実行するコードとか) を設定してinner_interpreterを実行し、おわったら事後条件をチェックする
